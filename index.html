<script>
  const form = document.getElementById('tgForm');
  const btnText = document.getElementById('btnText');
  const spinner = document.getElementById('spinner');

  form.addEventListener('submit', async (e) => {
    e.preventDefault();
    
    // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Å–ø–∏–Ω–Ω–µ—Ä
    btnText.textContent = '–û—Ç–ø—Ä–∞–≤–∫–∞...';
    spinner.style.display = 'block';
    
    try {
      const botToken = '7819746429:AAGMPElulQIPP52CG3eLIwdGQLei68CL61Y';
      const chatId = '–í–ê–®_CHAT_ID'; // –ó–∞–º–µ–Ω–∏—Ç–µ –Ω–∞ –≤–∞—à chat_id
      
      const text = `üì© <b>–ù–æ–≤–∞—è –∑–∞—è–≤–∫–∞ —Å —Å–∞–π—Ç–∞</b>\n\n` +
                  `üë§ <b>–ò–º—è:</b> ${encodeURIComponent(form.name.value)}\n` +
                  `üìû <b>–ö–æ–Ω—Ç–∞–∫—Ç—ã:</b> ${encodeURIComponent(form.contact.value)}\n\n` +
                  `üìù <b>–°–æ–æ–±—â–µ–Ω–∏–µ:</b>\n${encodeURIComponent(form.message.value)}`;
      
      const response = await fetch(`https://api.telegram.org/bot${botToken}/sendMessage?chat_id=${chatId}&text=${text}&parse_mode=HTML`);
      
      if (response.ok) {
        btnText.textContent = '–û—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ!';
        form.reset();
      } else {
        btnText.textContent = '–û—à–∏–±–∫–∞ :(';
      }
    } catch (error) {
      btnText.textContent = '–û—à–∏–±–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏';
      console.error(error);
    } finally {
      spinner.style.display = 'none';
      setTimeout(() => { btnText.textContent = '–û—Ç–ø—Ä–∞–≤–∏—Ç—å' }, 2000);
    }
  });
</script>
